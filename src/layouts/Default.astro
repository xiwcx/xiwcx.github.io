<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <link
            href="https://api.fontshare.com/v2/css?f[]=crimson-pro@1&display=swap"
            rel="stylesheet"
        />
        <meta name="generator" content={Astro.generator} />
        <title>Welch Canavan</title>
    </head>

    <body>
        <header>
            <a href="/"><h1>Welch Canavan</h1></a>

            <form onchange="document.cookie = 'theme=' + this.theme.value">
                <fieldset>
                    <legend>Theme</legend>
                    <div>
                        <input
                            type="radio"
                            name="theme"
                            id="theme-system"
                            value="system"
                            checked
                        />
                        <label for="theme-system">System</label>
                    </div>
                    <div>
                        <input
                            type="radio"
                            name="theme"
                            id="theme-light"
                            value="light"
                        />
                        <label for="theme-light">Light</label>
                    </div>
                    <div>
                        <input
                            type="radio"
                            name="theme"
                            id="theme-dark"
                            value="dark"
                        />
                        <label for="theme-dark">Dark</label>
                    </div>
                </fieldset>
            </form>
        </header>

        <main>
            <slot />
        </main>

        <footer>
            <p>Â© 2024 Welch Canavan</p>
        </footer>
    </body>
</html>

<style>
    :root {
        color-scheme: light dark;

        --dark-green: oklch(25% 0.01 135);
        --light-green: oklch(98% 0.01 135);

        --color-text: light-dark(var(--dark-green), var(--light-green));
        --color-background: light-dark(var(--light-green), var(--dark-green));

        &:has(#theme-light:checked) {
            color-scheme: light;
        }

        &:has(#theme-dark:checked) {
            color-scheme: dark;
        }
    }

    html,
    body {
        margin: 0;
    }

    body {
        background-color: var(--color-background);
        color: var(--color-text);
        font-family: "Crimson Pro", serif;
        font-size: clamp(1.2em, 1.5vw, 1.7em);
        transition-property: background-color, color;
        transition-duration: 0.25s;
        transition-timing-function: ease-in-out;
        padding: 1em;
        display: grid;
        /* https://webtypography.net/2.1.2 */
        grid-template-columns: 1fr min(66ch, 100%) 1fr;
        grid-template-areas:
            ".  header  ."
            ".  main    ."
            ".  footer  .";
        justify-items: center;
    }

    header {
        grid-area: header;
        width: 100%;
    }

    main {
        grid-area: main;
        width: 100%;

        img {
            max-width: 100%;
        }
    }

    footer {
        grid-area: footer;
        width: 100%;
    }
</style>
